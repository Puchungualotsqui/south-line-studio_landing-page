---
import { Image } from "astro:assets";

import aprendiendoImg from "@/assets/work/aprendiendo.jpg";
import soundtoolsImg from "@/assets/work/soundtools.jpg";
import oteroImg from "@/assets/work/oteroediciones.jpg";

const work = [
  {
    name: "Aprendiendo con Otero Ediciones",
    url: "https://aprendiendoconoteroediciones.com",
    image: aprendiendoImg,
  },
  {
    name: "SoundTools",
    url: "https://soundtools.dev",
    image: soundtoolsImg,
  },
  {
    name: "Otero Ediciones",
    url: "https://oteroediciones.com",
    image: oteroImg,
  },
];
---

<section id="work" class="mt-28">
  <div class="mx-auto max-w-3xl">
    <h2 class="text-3xl lg:text-4xl font-bold tracking-tight">
      Recent work
    </h2>
    <p class="text-lg mt-4 text-slate-600">
      A few live examples of websites I've built.
    </p>
  </div>

  <div class="mx-auto max-w-3xl mt-8 grid sm:grid-cols-2 gap-5">
    {work.map((item, index) => {
      const isLast = index === work.length - 1;
      const cardClass =
        "group overflow-hidden rounded-xl border border-slate-200 bg-white shadow" +
        (isLast ? " sm:col-span-2 sm:max-w-md sm:mx-auto" : "");

      return (
        <article class={cardClass}>
          <a href={item.url} target="_blank" rel="noopener" class="block">
            <Image
              src={item.image}
              alt={`Preview of ${item.name}`}
              widths={[420, 640, 860]}
              sizes="(max-width: 640px) 100vw, 640px"
              loading="lazy"
              format="avif"
              class="w-full aspect-16/11 object-cover grayscale opacity-75 group-hover:grayscale-0 group-hover:opacity-100 transition"
            />
          </a>

          <div class="p-4">
            <div class="flex items-center justify-between gap-3">
              <h3 class="text-sm font-semibold text-slate-900">
                {item.name}
              </h3>

              <a
                href={item.url}
                target="_blank"
                rel="noopener"
                class="text-sm text-slate-600 hover:text-slate-900 underline underline-offset-4"
              >
                View
              </a>
            </div>

            <p class="mt-1 text-xs text-slate-500 break-all">
              {item.url}
            </p>
          </div>
        </article>
      );
    })}
  </div>
</section>
